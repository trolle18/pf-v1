!function(d){function o(e){var t,a=(a=jQuery(e.target).attr("data-filter-key"))||d("#oc_theme_filter").find(".oc-active-filter").attr("data-filter-key"),o=d(".pagination-item.current").attr("data-request_page"),n=d(".theme-browser").attr("data-item_count"),i=null,r=Math.ceil(d("#theme-browser-page-1 ."+a).length/n);"oc_theme_filter"===d(e.target).parent().attr("id")&&(o=1,t=r,d(".theme-browser-pagination .current").removeClass("current"),d(".theme-browser-pagination .first").addClass("current"),d(".theme-browser-pagination a").hide(),1<t&&d(".theme-browser-pagination a").slice(0,t).show(),d(".oc-active-filter").removeClass("oc-active-filter"),d(e.target).addClass("oc-active-filter")),l(d(".all")),"all"!==a?(l(jQuery(".one-theme").not(jQuery("."+a))),i=1<r?(r=(o-1)*n,n=o*n,d("."+a).slice(r,n)):d("."+a),s(jQuery(i))):s(d(".page-"+o))}function s(e){d(e).removeClass("hidden_theme"),d(".theme-browser-page").hide(),d(".theme-browser-page-filtered").show().append(d(e).clone())}function l(e){d(".theme-browser-page-filtered").find(e).remove()}function t(e){for(var t=window.location.search.substring(1).split("&"),a=0;a<t.length;a++){var o=t[a].split("=");if(o[0]==e)return o[1]}return!1}function i(e){e&&1==e?d(".inline_badge").show():d(".inline_badge").hide()}function r(e,t,a){var o,n="",i=e,e=d("#theme-browser-page-1").find(d('[data-index="'+i+'"]'));d("#theme-browser-page-1").find(d('[data-index="'+i+'"]')).length,n=d(e).find(d(".theme-action")).find("[data-theme_slug]").data("theme_slug"),isPremiumInt=d(e).data("is-premium")||"0","0"==isPremiumInt?o="false":"1"==isPremiumInt&&(o="true"),n&&(themeName=n.trim()),oc_trigger_log({actionType:"wppremium_preview_theme",isPremium:o,theme:n,referrer:a})}if(d(document).ready(function(){screenshotPreview(),0<d(".onecom-move-up").length&&d(".onecom-move-up").click(function(){return d("html, body").animate({scrollTop:0},"slow"),!1}),d(".plugin-action-buttons").each(function(){150<d(this).width()&&(d(this).closest(".one-plugin-card .action-links").css({position:"initial",display:"block","margin-left":"104px"}),d(this).closest(".plugin-card-top").find(".column-name").css({"margin-right":"0"}),d(this).closest(".plugin-action-buttons").css({clear:"both",float:"none","text-align":"left"}))}),d(document).on("click",".one-install, .one-installed",function(){d(".loading-overlay.fullscreen-loader").addClass("show");var n=d(this),i=1==d(this).parents(".one-theme.theme").first().attr("data-is-premium")?"ptheme":"stheme",r=location.search;oc_validate_action(i).then(function(e){var t,a,o;return"ptheme"==i&&(t="true"),"stheme"==i&&(t="false"),"onecom_install_theme"===n.data("name")&&(a="install",o="wppremium_install_theme"),"onecom_activate_theme"===n.data("name")&&(a="activate",o="wppremium_activate_theme"),"success"===e.status?(function(e){var a=d(e),o=d(e).parents(".one-theme:first");d(o).addClass("active");var t=d(e).attr("data-name"),n=d(e).attr("data-theme_slug"),i=d(e).attr("data-redirect"),e=onecom_vars.network;void 0!==t&&""!=t&&(e={action:t,theme_slug:n,redirect:i,network:e=void 0===e?!1:e},d(o).addClass("active"),d.post(ajaxurl,e,function(e){var t=d.parseJSON(e);void 0!==t.type&&"redirect"==t.type?window.location=t.url:(d(".onecom-notifier").html(t.message).attr("type",t.type).addClass("show"),e=5e3,"success"==t.type&&(d(o).addClass("installed"),d(a).removeClass("one-install").addClass("one-installed"),d(a).find(".action-text").remove(),d(a).find("> span").append(t.button_html),d(a).attr("data-name","onecom_activate_theme"),e=1500),setTimeout(function(){d(".onecom-notifier").removeClass("show"),d(".loading-overlay.fullscreen-loader").removeClass("show")},e))}))}(n),oc_trigger_log({actionType:o,isPremium:t,theme:n.data("theme_slug"),referrer:r}),!0):void("failed"===e.status?(jQuery("#oc_um_overlay").show(),ocSetModalData({isPremium:t,feature:"theme",theme:n.data("theme_slug"),featureAction:a,referrer:r}),d(".loading-overlay.fullscreen-loader").removeClass("show")):e.msg&&oc_alert(e.msg,"error",5e3))})}),d(document).on("click",".install-now, .activate-plugin-ajax",function(e){e.preventDefault();var a=d(this),o=d(this).parents(".one-plugin-card:first"),t=d(this).attr("data-download_url"),n=d(this).attr("data-slug"),i=d(this).attr("data-name"),r=d(this).attr("data-action"),s=d(this).attr("data-redirect"),e=void 0!==d(this).attr("data-plugin_type")?d(this).attr("data-plugin_type"):"";d(".loading-overlay.fullscreen-loader").addClass("show"),d.post(ajaxurl,{action:r,plugin_slug:n,plugin_name:i,download_url:t,plugin_type:e,redirect:s},function(e){var t=d.parseJSON(e);console.log(t),void 0!==t.type&&"redirect"==t.type?window.location=t.url:(d(".onecom-notifier").html(t.message).attr("type",t.type).addClass("show"),e=5e3,"success"==t.type&&(d(o).addClass("activate"),d(a).after(t.button_html),d(a).remove(),e=1500),setTimeout(function(){d(".onecom-notifier").removeClass("show"),d(".loading-overlay.fullscreen-loader").removeClass("show")},e))})}),d(".pagination-item").click(function(e){e.preventDefault(),d(this).is(".current")||(d(".pagination-item").removeClass("current"),d(this).addClass("current"),o(e))});var t=d("#one-confirmation"),e=t.attr("data-yes_string"),a=t.attr("data-no_string");t.dialog({dialogClass:"wp-dialog wp-one-dialog",modal:!0,autoOpen:!1,closeOnEscape:!0,width:"25%",hide:{effect:"explode",duration:1e3},resizable:!1,buttons:[{text:a,class:"button",click:function(){d(this).dialog("close")}},{text:e,class:"button button-primary",click:function(){var e=d(this).data("element"),e=d(e).parents("form:first");d(e)[0].submit(),d(this).dialog("close")}}]}),d(".one-deactivate-plugin").click(function(e){e.preventDefault(),t.data("element",this).dialog("open")}),d(".discouraged-modal-close").click(function(){d("#one-confirmation").dialog("close")}),d(".one-theme").hover(function(){d(this).addClass("active")},function(){d(this).removeClass("active")}),d("#oc_theme_filter li").click(function(e){o(e)})}),d(window).scroll(function(){onecom_move_up_toggle()}),d(window).load(function(){onecom_move_up_toggle()}),window.onpopstate=function(e){var a;void 0!==e&&null!=e.state?a=e.state.paged:void 0!==(a=t("paged"))&&""!=a&&null!=a||(a=1),d(".pagination-item").each(function(e,t){d(t).attr("data-request_page")==a&&d(t).trigger("click")})},this.screenshotPreview=function(){xOffset=10,yOffset=30,d(".one-screenshot").hover(function(e){this.t=this.title;var t=(this.title="")!=this.t?"<br/>"+this.t:"";d("body").append("<p id='one-screenshot'><img src='"+d(this).attr("data-preview")+"' alt='url preview' />"+t+"</p>"),d("#screenshot").css("top",e.pageY-xOffset+"px").css("left",e.pageX+yOffset+"px").fadeIn("fast")},function(){this.title=this.t,d("#one-screenshot").remove()}),d(".one-screenshot").mousemove(function(e){d("#one-screenshot").css("top",e.pageY-xOffset+"px").css("left",e.pageX+yOffset+"px")})},d(document).on("thickbox:iframe:loaded",function(e){TB_WIDTH=75*d(window).width()/100,TB_HEIGHT=85*d(window).height()/100,d("#TB_window").css({"margin-left":"-"+parseInt(TB_WIDTH/2,10)+"px",width:TB_WIDTH+"px"}),d("#TB_window").css({"margin-top":"-"+parseInt(TB_HEIGHT/2,10)+"px",height:TB_HEIGHT+"px"}),d("#TB_iframeContent").contents().find("head").append(d("<style type='text/css'> .plugin-install-php #plugin-information-footer {display:none !important;} </style>"))}),d(document).on("click",".preview_link",function(){var e=d(this).parents(".one-theme:first"),t=d(".theme-browser > div.one-theme").length,a=d(this).attr("data-demo-url");d("iframe").attr("src",a);var o=d(this).attr("data-id"),a=d(this).closest(".one-theme").next(".one-theme").find(".preview_link").attr("data-id");d(".header_btn_bar .next").attr("data-demo-id",a);a=d(this).closest(".one-theme").prev(".one-theme").find(".preview_link").attr("data-id");d(".header_btn_bar .previous").attr("data-demo-id",a),i(d(this).parents(".one-theme:first").attr("data-is-premium")),d(".header_btn_bar .theme-info").attr("data-theme-count",t),d(".header_btn_bar .theme-info").attr("data-active-demo-id",o),d(".header_btn_bar .preview-install-button").attr("data-active-demo-id",o),d(".header_btn_bar .next").removeAttr("style"),d(".header_btn_bar .previous").removeAttr("style");o=d(this).attr("data-id");0===d("#demo-"+o).closest(".one-theme").prev(".one-theme").length&&(d(".header_btn_bar .previous").css({opacity:"0.5",cursor:"initial"}),d(".header_btn_bar .previous").attr("data-demo-id","0"));o=d(this).attr("data-id");0===d("#demo-"+o).closest(".one-theme").next(".one-theme").length&&(d(".header_btn_bar .next").css({opacity:"0.5",cursor:"initial"}),d(".header_btn_bar .next").attr("data-demo-id","0")),d(e).hasClass("installed")?d(".header_btn_bar").find(".preview-install-button").hide():d(".header_btn_bar").find(".preview-install-button").show(),tb_show("Preview Popup","#TB_inline?width=full&height=full&inlineId=thickbox_preview&modal=true&class=thickbox",null),d("body").addClass("preview_page"),r(o,0,location.search)}),d(document).on("click",".close_btn",function(){tb_remove(),setTimeout(function(){d("body").removeClass("preview_page")},500)}),d(document).on("click",".one-dialog-close",function(){tb_remove()}),d(document).on("click",".preview-install-button",function(){var a=d(this).attr("data-active-demo-id"),o=null;d(".one-theme").each(function(e,t){if(d(t).find(".preview_link").attr("data-id")===a)return o=t,!1}),null!=o&&(d("html, body").stop().animate({scrollTop:d(o).offset().top-64},300),d(".close_btn").trigger("click"),d(o).find(".one-install").trigger("click"))}),d(document).on("click","#desktop",function(){d(".preview-container .phone-content").removeClass("phone-content").addClass("desktop-content"),d(".preview-container .preview span").remove(".screen-rotate"),d(".preview-container").removeClass("scroll"),d(".preview-container iframe").removeClass("horizontal"),d(".desktop-content").removeClass("horizontal"),d("#desktop").addClass("current"),d("#mobile").removeClass("current")}),d(document).on("click","#mobile",function(){d(".preview-container .desktop-content").removeClass("desktop-content").addClass("phone-content"),d(".preview-container").addClass("scroll"),d(".preview-container .preview").append('<span class="screen-rotate"></span>'),d("#desktop").removeClass("current"),d("#mobile").addClass("current")}),d(document).on("click",".screen-rotate",function(){d(".preview-container iframe").toggleClass("horizontal"),d(".phone-content").toggleClass("horizontal")}),d(document).on("click",".header_btn_bar .next",function(){var e,t,a=d(this).attr("data-demo-id"),o=d("#preview_box .theme-info").attr("data-active-demo-id"),n=d("#demo-"+a).closest(".one-theme").next(".one-theme").length;d(".header_btn_bar .preview-install-button").attr("data-active-demo-id",a),r(a,0,location.search),i(d('[data-index="'+a+'"]').attr("data-is-premium")),"0"===a?event.stopPropagation():(0===n?(d(this).css({opacity:"0.5",cursor:"initial"}),d(this).attr("data-demo-id",0),d(".header_btn_bar .previous").attr("data-demo-id",o),t=d("#demo-"+a).attr("data-demo-url"),e=d("#demo-"+a).parents(".one-theme:first"),d("iframe").attr("src",t)):(d(".header_btn_bar .previous").removeAttr("style"),t=d("#demo-"+a).attr("data-demo-url"),e=d("#demo-"+a).parents(".one-theme:first"),d("iframe").attr("src",t),t=d("#demo-"+a).closest(".one-theme").next(".one-theme").find(".preview_link").attr("data-id"),d(this).attr("data-demo-id",t),d(".header_btn_bar .previous").attr("data-demo-id",o)),d(".header_btn_bar .theme-info").attr("data-active-demo-id",a)),d(e).hasClass("installed")?d(".header_btn_bar").find(".preview-install-button").hide():d(".header_btn_bar").find(".preview-install-button").show()}),d(document).on("click",".header_btn_bar .previous",function(){var e,t,a=d(this).attr("data-demo-id"),o=d("#preview_box .theme-info").attr("data-active-demo-id"),n=d("#demo-"+a).closest(".one-theme").prev(".one-theme").length;d(".header_btn_bar .preview-install-button").attr("data-active-demo-id",a),r(a,0,location.search),i(d('[data-index="'+a+'"]').attr("data-is-premium")),"0"===a?event.stopPropagation():(0===n?(d(this).css({opacity:"0.5",cursor:"initial"}),d(this).attr("data-demo-id",0),d(".header_btn_bar .next").attr("data-demo-id",o),t=d("#demo-"+a).attr("data-demo-url"),e=d("#demo-"+a).parents(".one-theme:first"),d("iframe").attr("src",t)):(d(".header_btn_bar .next").removeAttr("style"),t=d("#demo-"+a).attr("data-demo-url"),e=d("#demo-"+a).parents(".one-theme:first"),d("iframe").attr("src",t),t=d("#demo-"+a).closest(".one-theme").prev(".one-theme").find(".preview_link").attr("data-id"),d(this).attr("data-demo-id",t),d(".header_btn_bar .next").attr("data-demo-id",o)),d(".header_btn_bar .theme-info").attr("data-active-demo-id",a)),d(e).hasClass("installed")?d(".header_btn_bar").find(".preview-install-button").hide():d(".header_btn_bar").find(".preview-install-button").show()}),this.onecom_move_up_toggle=function(){if(0==d(".onecom-move-up").length)return!1;d(window).height()/2<=d(window).scrollTop()?d(".onecom-move-up").addClass("show"):d(".onecom-move-up").removeClass("show")},d(".h-parent").length){const n=document.querySelector(".h-parent");let t=!1,a,o;n.addEventListener("mousedown",e=>{t=!0,n.classList.add("active"),a=e.pageX-n.offsetLeft,o=n.scrollLeft}),n.addEventListener("mouseleave",()=>{t=!1,n.classList.remove("active")}),n.addEventListener("mouseup",()=>{t=!1,n.classList.remove("active")}),n.addEventListener("mousemove",e=>{t&&(e.preventDefault(),e=3*(e.pageX-n.offsetLeft-a),n.scrollLeft=o-e,console.log(e))})}}(jQuery);