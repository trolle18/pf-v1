function oc_toggle_state(e){var c=e.attr("src"),_=e.attr("data-alt-image");e.attr({src:_,"data-alt-image":c})}function ocSetVCState(){jQuery("#oc_pc_switch_spinner").removeClass("success").addClass("is_active");var c=jQuery("#pc_enable").prop("checked")?"1":"0";vc_ttl=jQuery("#oc_vcache_ttl").val()||"2592000",vc_ttl_unit=jQuery("#oc_vcache_ttl_unit").val()||"days",jQuery.post(ajaxurl,{action:"oc_set_vc_state",vc_state:c,vc_ttl:vc_ttl,vc_ttl_unit:vc_ttl_unit},function(e){jQuery("#oc_pc_switch_spinner").removeClass("is_active").addClass("success"),"success"===e.status?(oc_toggle_pSection(),oc_trigger_log({actionType:"wppremium_click_feature",isPremium:"true",feature:"PERFORMANCE_CACHE",featureAction:"1"==c?"enable_vcache":"disable_vcache"})):(jQuery("#oc_um_overlay").show(),ocSetModalData({isPremium:"true",feature:"PERFORMANCE_CACHE",featureAction:"1"==c?"enable_vcache":"disable_vcache"}),jQuery("#pc_enable").prop("checked",!1))})}function oc_toggle_pSection(){jQuery("#pc_enable").prop("checked")?(jQuery("#oc_vcache_ttl").val()||jQuery("#oc_vcache_ttl").val("2592000"),jQuery("#pc_enable_settings").show()):jQuery("#pc_enable_settings").hide()}function oc_toggle_devModeSection(){jQuery("#dev_mode_enable").prop("checked")?(jQuery("#dev_mode_duration").val()||jQuery("#dev_mode_duration").val("48"),jQuery("#dev_mode_enable_settings").show()):jQuery("#dev_mode_enable_settings").hide()}function oc_toggle_excludeCDNSection(){jQuery("#exclude_cdn_enable").prop("checked")?(jQuery("#exclude_cdn_data").val()||jQuery("#exclude_cdn_data").val(""),jQuery("#exclude_cdn_enable_settings").show()):jQuery("#exclude_cdn_enable_settings").hide()}function oc_validate_ttl(){var e=jQuery("#oc_vcache_ttl"),c=e.val();return/^\d+$/.test(c)?(e.removeClass("oc_error"),!0):(e.addClass("oc_error"),!1)}function oc_validate_dev_duration(){var e=jQuery("#dev_mode_duration"),c=e.val();return/^\d+$/.test(c)?(e.removeClass("oc_error"),!0):(e.addClass("oc_error"),!1)}function oc_update_ttl(){jQuery("#oc_ttl_spinner").removeClass("success").addClass("is_active");var e=jQuery("#oc_vcache_ttl").val()||"2592000",c=jQuery("#oc_vcache_ttl_unit").val()||"days";jQuery.post(ajaxurl,{action:"oc_set_vc_ttl",vc_ttl:e,vc_ttl_unit:c},function(e){jQuery("#oc_ttl_spinner").removeClass("is_active"),"success"===e.status&&jQuery("#oc_ttl_spinner").addClass("success"),jQuery("#oc_vcache_ttl").val().trim()||jQuery("#oc_vcache_ttl").val("2592000")})}function oc_validate_exclude_cdn_data(){var e=jQuery("#exclude_cdn_data");return""!=e.val().trim()?(e.removeClass("oc_error"),!0):(e.addClass("oc_error"),!1)}function oc_update_dev_duration(){jQuery("#oc_dev_duration_spinner").removeClass("success").addClass("is_active"),jQuery.post(ajaxurl,{action:"oc_set_dev_mode_time",dev_duration:jQuery("#dev_mode_duration").val()||"48"},function(e){jQuery("#oc_dev_duration_spinner").removeClass("is_active"),"success"===e.status&&jQuery("#oc_dev_duration_spinner").addClass("success"),jQuery("#dev_mode_duration").val().trim()||jQuery("#dev_mode_duration").val("48")})}function ocExcludeCDNState(){jQuery("#oc_exclude_cdn_switch_spinner").removeClass("success").addClass("is_active");var e=jQuery("#exclude_cdn_enable").prop("checked")?"1":"0";jQuery.post(ajaxurl,{action:"oc_exclude_cdn_mode",exclude_cdn_mode:e},function(e){jQuery("#oc_exclude_cdn_switch_spinner").removeClass("is_active"),"success"===e.status?(oc_toggle_excludeCDNSection(),jQuery("#oc_exclude_cdn_switch_spinner").addClass("success"),oc_trigger_log({actionType:"wppremium_click_feature",isPremium:"true",feature:"CDN"})):(jQuery("#oc_um_overlay").show(),jQuery("#exclude_cdn_enable").prop("checked",!1))})}function oc_update_exclude_cdn_data(){jQuery("#oc_exclude_cdn_data_spinner").removeClass("success").addClass("is_active"),jQuery.post(ajaxurl,{action:"oc_exclude_cdn_data",exclude_cdn_data:jQuery("#exclude_cdn_data").val()||""},function(e){jQuery("#oc_exclude_cdn_data_spinner").removeClass("is_active"),"success"===e.status&&jQuery("#oc_exclude_cdn_data_spinner").addClass("success")})}function ocSetDevMode(){jQuery("#oc_dev_mode_switch_spinner").removeClass("success").addClass("is_active");var c=jQuery("#dev_mode_enable").prop("checked")?"1":"0",e=jQuery("#dev_mode_duration").val()||"48";jQuery.post(ajaxurl,{action:"oc_set_dev_mode",dev_mode:c,dev_duration:e},function(e){jQuery("#oc_dev_mode_switch_spinner").removeClass("is_active"),"success"===e.status?(oc_toggle_devModeSection(),jQuery("#oc_dev_mode_switch_spinner").addClass("success"),oc_trigger_log({actionType:"wppremium_click_feature",isPremium:"true",feature:"CDN",featureAction:"1"==c?"enable_cdn":"disable_cdn"})):(jQuery("#oc_um_overlay").show(),jQuery("#dev_mode_enable").prop("checked",!1))})}function ocSetCdnState(){jQuery("#oc_cdn_switch_spinner").removeClass("success").addClass("is_active");var c=jQuery("#cdn_enable").prop("checked")?"1":"0";jQuery.post(ajaxurl,{action:"oc_set_cdn_state",cdn_state:c},function(e){jQuery("#oc_cdn_switch_spinner").removeClass("is_active"),"success"===e.status?(jQuery("#oc_cdn_switch_spinner").addClass("success"),oc_change_cdn_icon(),oc_trigger_log({actionType:"wppremium_click_feature",isPremium:"true",feature:"CDN",featureAction:"1"==c?"enable_cdn":"disable_cdn"})):(jQuery("#oc_um_overlay").show(),ocSetModalData({isPremium:"true",feature:"CDN",featureAction:"1"==c?"enable_cdn":"disable_cdn"}),jQuery("#cdn_enable").prop("checked",!1))})}function oc_change_cdn_icon(){jQuery("#cdn_enable").prop("checked")?(jQuery("#oc-cdn-icon-active").show(),jQuery("#oc-cdn-icon").hide(),jQuery(".oc-cdn-feature-box").show()):(jQuery("#oc-cdn-icon").show(),jQuery("#oc-cdn-icon-active").hide(),jQuery(".oc-cdn-feature-box").hide()),jQuery(".oc-cdn-feature-box .oc_cb_spinner").removeClass("success")}jQuery(document).ready(function(){jQuery(".oc-non-premium #dev_mode_duration").prop("disabled",!0),jQuery(".oc-non-premium #oc_dev_duration_save").prop("disabled",!0),jQuery(".oc-non-premium #exclude_cdn_data").prop("disabled",!0),jQuery(".oc-non-premium #oc_exclude_cdn_data_save").prop("disabled",!0),jQuery("#pc_enable").change(function(){ocSetVCState()}),jQuery("#oc_ttl_save").click(function(){oc_validate_ttl()&&oc_update_ttl()}),jQuery("#oc_dev_duration_save").click(function(){oc_validate_dev_duration()&&oc_update_dev_duration()}),jQuery("#oc_exclude_cdn_data_save").click(function(){oc_validate_exclude_cdn_data()&&oc_update_exclude_cdn_data()}),jQuery("#cdn_enable").change(function(){ocSetCdnState()}),jQuery("#dev_mode_enable").change(function(){jQuery("#dev_mode_duration").removeClass("oc_error"),ocSetDevMode()}),jQuery("#exclude_cdn_enable").change(function(){jQuery("#exclude_cdn_data").removeClass("oc_error"),ocExcludeCDNState()})});